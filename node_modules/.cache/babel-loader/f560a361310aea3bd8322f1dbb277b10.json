{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: '',\n  components: {},\n  props: [''],\n  data: function data() {\n    return {\n      ruleForm: {\n        name: null,\n        phone: null,\n        code: null,\n        age: null,\n        sex: 0\n      },\n      CountDown: 60,\n      //倒计时\n      buttonName: \"发送验证码\",\n      //按钮初始化文字\n      isDisabled: false,\n      //是否\n      formLabelWidth: '80px',\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          min: 11,\n          max: 11,\n          message: '请输入正确的手机号码',\n          trigger: 'blur'\n        }],\n        code: [{\n          required: true,\n          message: '请输入验证码',\n          trigger: 'blur'\n        }],\n        age: [{\n          required: true,\n          message: '请输入年龄',\n          trigger: 'blur'\n        }],\n        sex: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  watch: {},\n  created: function created() {},\n  beforeMount: function beforeMount() {},\n  mounted: function mounted() {},\n  methods: {\n    //点击获取验证码倒计时\n    getCode: function getCode() {\n      var _this = this;\n\n      this.isDisabled = true;\n      var timerId = setInterval(function () {\n        _this.CountDown--;\n        _this.buttonName = _this.CountDown + \"秒后重试\";\n\n        if (_this.CountDown <= 0) {\n          clearInterval(timerId);\n          _this.buttonName = \"重新发送\";\n          _this.CountDown = 60;\n          _this.isDisabled = false;\n        }\n      }, 1000);\n    },\n    // 提交\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.$message({\n            message: '数据提交成功',\n            type: 'success'\n          });\n\n          console.log(_this2.ruleForm); // 提交的数据，发起网络请求\n\n          _this2.cancel();\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    // 取消\n    cancel: function cancel() {\n      this.$emit(\"closeDialog\");\n    }\n  },\n  computed: {}\n};","map":null,"metadata":{},"sourceType":"module"}