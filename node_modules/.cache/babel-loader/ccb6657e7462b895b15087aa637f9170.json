{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Header, Footer, SubmitDialog } from \"./components/index.js\";\nexport default {\n  name: \"App\",\n  components: {\n    Header,\n    Footer,\n    SubmitDialog\n  },\n\n  data() {\n    return {\n      isShow: false,\n      dialogFormVisible: false\n    };\n  },\n\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll, true);\n    this.autoScroll();\n  },\n\n  methods: {\n    // 弹窗阻止页面滚动\n    stopScroll() {\n      document.body.style.top = '0'; // document.body.style.position = 'fixed'\n\n      document.body.style.height = '100%'; // document.body.style.overflow = 'hidden'\n    },\n\n    // 回复页面滚动\n    autoScroll() {\n      document.body.style.position = 'initial';\n      document.body.style.overflowY = 'auto';\n    },\n\n    toFreeToast() {\n      this.dialogFormVisible = true;\n      this.stopScroll();\n    },\n\n    handleScroll() {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n\n      if (scrollTop > 100) {\n        this.isShow = true; // 显示\n      } else {\n        this.isShow = false; // 隐藏\n      }\n    },\n\n    toTop() {\n      let top = document.documentElement.scrollTop || document.body.scrollTop; // 实现滚动效果\n\n      const timeTop = setInterval(() => {\n        document.body.scrollTop = document.documentElement.scrollTop = top -= 100; //可以自己设置\n\n        if (top <= 0) {\n          clearInterval(timeTop);\n        }\n      }, 10);\n    },\n\n    //关闭弹窗\n    closeDialog() {\n      this.dialogFormVisible = false;\n      this.autoScroll();\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}